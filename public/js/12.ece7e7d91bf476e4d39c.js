(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{281:function(t,e,n){"use strict";n.r(e);var r,o=n(0),s=n(4),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},u=function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}u((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},l=Object(s.c)("questions_answers"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.mounted=function(){var t=this;this.results=[],this.$nextTick((function(){t.getQuestionsAnswers(parseInt(t.$route.params.survey_id))}))},e.prototype.getQuestionsAnswers=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.loadQuestionsAnswers({survey_id:t}),this.onFiltered(this.questions_answers),[2]}))}))},e.prototype.onFiltered=function(t){var e;this.results=[],e=[];for(var n=new Map,r=0,o=t;r<o.length;r++){var s=o[r];n.has(s.question)||(n.set(s.question,!0),e.push({title:s.question,answers:[],filteredAnswers:[]}))}t.forEach((function(t,n){e.forEach((function(n,r){t.question===n.title&&e[r].answers.push(t.answer)}))})),e.forEach((function(t,r){t.answers.forEach((function(t,o){n.has(t)||(n.set(t,!0),e[r].filteredAnswers.push({title:t,count:0}))}))})),e.forEach((function(t,e){t.filteredAnswers.forEach((function(e,n){t.answers.forEach((function(t,n){e.title===t&&e.count++}))}))})),this.results=e},a([l.Action],e.prototype,"loadQuestionsAnswers",void 0),a([l.State],e.prototype,"isLoading",void 0),a([l.State],e.prototype,"fields",void 0),a([l.State],e.prototype,"questions_answers",void 0),e=a([Object(o.a)({components:{}})],e)}(o.c),p=n(6),d=Object(p.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",[n("b-col",{attrs:{md:"12"}},[n("b-form",[n("b-form-group",{attrs:{label:"Filtro",description:"Ingrese texto para iniciar bÃºsqueda","label-for":"query"}},[n("b-form-input",{attrs:{id:"query",type:"text",required:""},model:{value:t.fields.query,callback:function(e){t.$set(t.fields,"query",e)},expression:"fields.query"}})],1)],1)],1)],1),n("b-row",{staticClass:"mb-5"},t._l(t.results,(function(e,r){return n("b-col",{key:r,attrs:{md:"4"}},[n("b-card",{attrs:{title:"Pregunta: "+e.title}},[n("b-card-text",t._l(e.filteredAnswers,(function(e,r){return n("b-button",{key:r,staticClass:"m-1",attrs:{size:"sm",variant:"primary"}},[t._v(t._s(e.title)),n("b-badge",{staticClass:"m-1",attrs:{variant:"light"}},[t._v("["+t._s(e.count)+"]")])],1)})),1)],1)],1)})),1),n("b-button",{staticClass:"btn table-btn mr-2",staticStyle:{"margin-bottom":"5px"},on:{click:function(e){t.getQuestionsAnswers(parseInt(t.$route.params.survey_id))}}},[t._v(t._s(t.$t("strings.update_table")))]),n("b-table",{staticClass:"btable",staticStyle:{"max-height":"max-content"},attrs:{striped:"",hover:"",responsive:"","sticky-header":"","no-border-collapse":"",outlined:"","head-variant":"dark",busy:t.isLoading,items:t.questions_answers,fields:t.fields,filter:t.fields.query,"filter-included-fields":[]},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger"},[n("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0},{key:"head(question)",fn:function(e){return[n("span",[t._v(t._s(t.$t("questions_answers.question")))])]}},{key:"head(answer)",fn:function(e){return[n("span",[t._v(t._s(t.$t("questions_answers.answer")))])]}},{key:"cell(index)",fn:function(e){return[n("span",[t._v(t._s(e.index+1))])]}}])})],1)}),[],!1,null,"28aaeef0",null).exports,y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.mounted=function(){this.setBackUrl("/surveys"),this.setMenu([])},b([s.a],e.prototype,"setBackUrl",void 0),b([s.a],e.prototype,"setMenu",void 0),e=b([Object(o.a)({components:{QuestionsAnswersList:d}})],e)}(o.c),w=Object(p.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",[e("h2",[this._v(this._s(this.$t("questions_answers.title")))]),e("QuestionsAnswersList")],1)],1)],1)}),[],!1,null,"1124691b",null);e.default=w.exports}}]);