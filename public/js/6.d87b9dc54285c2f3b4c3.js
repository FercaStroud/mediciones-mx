(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{280:function(t,e,n){"use strict";n.r(e);var r,o=n(0),s=n(4),i=n(10),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},l=function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},d=Object(s.c)("answers"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.mounted=function(){var t=this;this.$nextTick((function(){t.getAnswers(parseInt(t.$route.params.question_id))}))},Object.defineProperty(e.prototype,"actualUser",{get:function(){return this.$auth.user()},enumerable:!0,configurable:!0}),e.prototype.handleEditAnswer=function(t){t.end_survey=Boolean(t.end_survey),this.setForm(t),this.setModalAdd(!1),this.setModalVisible(!0)},e.prototype.deleteAnswerConfirm=function(t){return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Object(i.a)("front.delete_answer_confirmation",!0)];case 1:return e.sent()?(this.deleteAnswer(t),[2]):[2]}}))}))},e.prototype.getAnswers=function(t){return l(this,void 0,void 0,(function(){return u(this,(function(e){return this.loadAnswers({question_id:t}),[2]}))}))},c([d.State],e.prototype,"fields",void 0),c([d.State],e.prototype,"answers",void 0),c([d.State],e.prototype,"isLoading",void 0),c([d.State],e.prototype,"isModalAdd",void 0),c([d.State],e.prototype,"form",void 0),c([d.Action],e.prototype,"deleteAnswer",void 0),c([d.Action],e.prototype,"loadAnswers",void 0),c([d.Action],e.prototype,"setModalVisible",void 0),c([d.Action],e.prototype,"setModalAdd",void 0),c([d.Action],e.prototype,"setForm",void 0),e=c([Object(o.a)({components:{}})],e)}(o.c),p=n(6),_=Object(p.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{staticClass:"btn table-btn mr-2",staticStyle:{"margin-bottom":"5px"},on:{click:function(e){t.getAnswers(parseInt(t.$route.params.question_id))}}},[t._v(t._s(t.$t("strings.update_table")))]),n("b-table",{staticClass:"btable",staticStyle:{"max-height":"max-content"},attrs:{striped:"",hover:"",responsive:"","sticky-header":"","no-border-collapse":"",outlined:"","head-variant":"dark",busy:t.isLoading,items:t.answers,fields:t.fields},scopedSlots:t._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger"},[n("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0},{key:"head(id)",fn:function(e){return[n("span",[t._v(t._s(t.$t("answers.id")))])]}},{key:"head(order)",fn:function(e){return[n("span",[t._v(t._s(t.$t("answers.order")))])]}},{key:"head(value)",fn:function(e){return[n("span",[t._v(t._s(t.$t("answers.value")))])]}},{key:"head(src)",fn:function(e){return[n("span",[t._v(t._s(t.$t("answers.src")))])]}},{key:"head(title)",fn:function(e){return[n("span",[t._v(t._s(t.$t("answers.title")))])]}},{key:"head(end_survey)",fn:function(e){return[n("span",[t._v(t._s(t.$t("answers.end_survey")))])]}},{key:"head(force_question_id)",fn:function(e){return[n("span",[t._v(t._s(t.$t("answers.force_question_id")))])]}},{key:"head(created_at)",fn:function(e){return[n("div",{staticClass:"text-nowrap"},[t._v(t._s(t.$t("strings.created_at")))])]}},{key:"head(updated_at)",fn:function(e){return[n("div",{staticClass:"text-nowrap"},[t._v(t._s(t.$t("strings.updated_at")))])]}},{key:"head(actions)",fn:function(e){return[n("span",[t._v(t._s(t.$t("strings.actions")))])]}},{key:"cell(end_survey)",fn:function(e){return[e.item.end_survey?n("b-button",{attrs:{variant:"outline-success",disabled:""}},[t._v(t._s(t.$t("answers.end_survey_true")))]):n("b-button",{attrs:{disabled:"",variant:"outline-secondary"}},[t._v(t._s(t.$t("answers.end_survey_false")))])]}},{key:"cell(created_at)",fn:function(e){return[n("span",[t._v(t._s(t._f("moment")(e.item.created_at,"dddd D, MMMM YYYY")))])]}},{key:"cell(updated_at)",fn:function(e){return[n("span",[t._v(t._s(t._f("moment")(e.item.updated_at,"dddd D, MMMM YYYY")))])]}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"btn table-btn mb-2",staticStyle:{"margin-right":"5px"},attrs:{size:"sm",title:t.$t("strings.edit")},on:{click:function(n){return t.handleEditAnswer(e.item)}}},[n("b-icon",{staticStyle:{color:"#fff"},attrs:{icon:"pencil"}}),t._v(t._s(t.$t("strings.edit")))],1),n("b-button",{staticClass:"btn-danger table-btn mb-2",attrs:{title:t.$t("strings.delete"),size:"sm"},on:{click:function(n){return t.deleteAnswerConfirm(e.item)}}},[n("b-icon",{staticStyle:{color:"#fff"},attrs:{icon:"trash-fill"}}),t._v(t._s(t.$t("strings.delete")))],1)]}},{key:"cell(src)",fn:function(e){return[e.item.src?n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:"/uploads/images/answers/"+e.item.src}}):t._e()]}},{key:"cell(index)",fn:function(e){return[n("span",[t._v(t._s(e.index+1))])]}}])})],1)}),[],!1,null,"0af52eb4",null).exports,b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},h=function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))},v=function(t,e){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},m=Object(s.c)("answers"),w=Object(s.c)("questions"),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.created=function(){return h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,this.getQuestions(parseInt(this.$route.params.survey_id))];case 1:return t.sent(),[2]}}))}))},e.prototype.getQuestions=function(t){return h(this,void 0,void 0,(function(){return v(this,(function(e){return this.loadQuestions({survey_id:t}),[2]}))}))},e.prototype.handleOk=function(){this.isAdd?this.addAnswer(this.form):this.editAnswer(this.form)},e.prototype.handleClose=function(){this.setModalVisible(!1)},y([Object(o.b)()],e.prototype,"form",void 0),y([Object(o.b)()],e.prototype,"isAdd",void 0),y([Object(o.b)()],e.prototype,"isVisible",void 0),y([m.Action],e.prototype,"addAnswer",void 0),y([m.Action],e.prototype,"editAnswer",void 0),y([m.Action],e.prototype,"setModalVisible",void 0),y([m.State],e.prototype,"isModalLoading",void 0),y([w.State],e.prototype,"questions",void 0),y([w.State],e.prototype,"isLoading",void 0),y([w.Action],e.prototype,"loadQuestions",void 0),y([s.a],e.prototype,"setDialogMessage",void 0),e=y([o.a],e)}(o.c),$=Object(p.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{attrs:{"hide-header-close":"",visible:t.isVisible,size:"xl","cancel-title":t.$t("buttons.cancel"),"ok-disabled":t.isModalLoading,"ok-title":t.isModalLoading?t.$t("buttons.sending"):t.isAdd?t.$t("buttons.add"):t.$t("buttons.update"),title:t.isAdd?t.$t("answers.add_answer"):t.$t("answers.edit_answer")},on:{hide:t.handleClose,ok:function(e){return e.preventDefault(),t.handleOk(e)}}},[n("p",[t._v(t._s(this.form))]),n("b-form",[n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("b-form-group",{attrs:{label:t.$t("answers.form_question_id"),description:t.$t("answers.form_question_id_description"),"label-for":"form_question_id"}},[n("b-form-input",{attrs:{id:"form_question_id",type:"text",required:"",readonly:""},model:{value:t.form.question_id,callback:function(e){t.$set(t.form,"question_id",e)},expression:"form.question_id"}})],1),n("b-form-group",{attrs:{label:t.$t("answers.form_title"),description:t.$t("answers.form_title_description"),"label-for":"title"}},[n("b-form-input",{attrs:{id:"title",type:"text",maxlength:"140",required:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("b-form-group",{attrs:{label:t.$t("answers.form_value"),description:t.$t("answers.form_value_description"),"label-for":"title"}},[n("b-form-input",{attrs:{id:"value",type:"text",maxlength:"140",required:""},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),n("b-form-group",{attrs:{label:t.$t("answers.force_question_id"),description:t.$t("answers.form_force_question_id_description"),"label-for":"force_question_id"}},[n("b-form-select",{attrs:{id:"force_question_id","select-size":4},model:{value:t.form.force_question_id,callback:function(e){t.$set(t.form,"force_question_id",e)},expression:"form.force_question_id"}},t._l(t.questions,(function(e,r){return n("b-form-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.title))])})),1)],1)],1),n("b-col",{attrs:{cols:"6"}},[n("b-form-group",{attrs:{label:t.$t("answers.form_order"),description:t.$t("answers.form_order_description"),"label-for":"order"}},[n("b-form-input",{attrs:{id:"order",type:"number",min:"0"},model:{value:t.form.order,callback:function(e){t.$set(t.form,"order",e)},expression:"form.order"}})],1),n("hr"),n("b-form-group",{attrs:{label:t.$t("answers.form_end_survey"),description:t.$t("answers.form_end_survey_description"),"label-for":"end_survey"}},[n("b-form-checkbox",{attrs:{id:"end_survey",name:"end_survey",switch:""},model:{value:t.form.end_survey,callback:function(e){t.$set(t.form,"end_survey",e)},expression:"form.end_survey"}})],1),n("hr"),n("b-form-group",{attrs:{label:t.$t("answers.form_image"),"label-for":"src",description:t.$t("answers.form_image_description")}},[n("b-form-file",{attrs:{id:"src",type:"text",accept:"image/*","browse-text":t.$t("strings.browse"),state:Boolean(t.form.src),placeholder:t.$t("strings.choose_img"),"drop-placeholder":t.$t("strings.drop_img")},model:{value:t.form.src,callback:function(e){t.$set(t.form,"src",e)},expression:"form.src"}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},x=Object(s.c)("answers"),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.answer={},e}return k(e,t),e.prototype.mounted=function(){this.answer.question_id=parseInt(this.$route.params.question_id),this.setForm(this.answer),this.setBackUrl("/questions/"+parseInt(this.$route.params.survey_id)),this.setMenu([{text:"answers.add_answer",key:1,handler:this.addAnswer}])},e.prototype.addAnswer=function(){this.setForm(this.answer),this.setModalAdd(!0),this.setModalVisible(!0)},A([s.a],e.prototype,"setBackUrl",void 0),A([s.a],e.prototype,"setMenu",void 0),A([x.Action],e.prototype,"setModalVisible",void 0),A([x.Action],e.prototype,"setForm",void 0),A([x.Action],e.prototype,"setModalAdd",void 0),A([x.State],e.prototype,"isModalVisible",void 0),A([x.State],e.prototype,"isModalAdd",void 0),A([x.State],e.prototype,"form",void 0),e=A([Object(o.a)({components:{AnswerList:_,AnswerModal:$}})],e)}(o.c),M=Object(p.a)(O,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",[e("h2",[this._v(this._s(this.$t("answers.title")))]),e("AnswerList")],1)],1),e("answer-modal",{ref:"question_modal",attrs:{answer_id:this.$route.params.answer_id,form:this.form,"is-add":this.isModalAdd,"is-visible":this.isModalVisible}})],1)}),[],!1,null,"7fe320f4",null);e.default=M.exports}}]);